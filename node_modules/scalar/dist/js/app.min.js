!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("scalar",[],t):"object"==typeof exports?exports.scalar=t():e.scalar=t()}(self,(function(){return(()=>{"use strict";var e={794:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){var n=e.headers,r=e.data,o=e.queryString,a=e.url,i=new XMLHttpRequest;for(var u in r="application/json"===n["Content-Type"]?JSON.stringify(r):function(e){var t=new FormData;for(var n in e)t.append(n,e[n]);return t}(r),a=function(e,t){for(var n in t){var r="/{"+n+"}";-1!==e.indexOf(r)&&(e=e.replace(r,"/"+t[n]),delete t[n])}return e.replace(/\/\{(\w+)\}/gi,"")}(a,o)+function(e,t){var n=[];for(var r in t)n.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return n.length?e+n.join("&"):""}(-1===a.indexOf("?")?"?":"&",o),i.open(e.method,a,!0),n)i.setRequestHeader(u,n[u]);i.send(r),i.onreadystatechange=function(){if(4===i.readyState){var n=i.getResponseHeader("Content-Type"),r=i.responseURL,o=i.responseText;n&&(-1!==n.indexOf("application/json")?o=JSON.parse(o):/(application|text)\/xml/.test(n)&&(o=i.responseXML)),t({response:o,url:r,status:i.status,redirect:e.redirect&&r!==a})}}}function a(e,t,n){var r=e.status,o=e.response;if(e.redirect)return window.location=e.url;r>399?n(o,r):t(o,r)}function i(e,t,n,r){return e.method=t,e.data=n,e.queryString=r,new Promise((function(t,n){if(Worker){var r=new Blob(["self.onmessage=function(e){("+o+")(e.data,self.postMessage)}"]),i=new Worker(window.URL.createObjectURL(r));i.postMessage(e),i.onmessage=function(e){return a(e.data,t,n)}}else o(e,(function(e){return a(e,t,n)}))}))}n.d(t,{Component:()=>B,Module:()=>W,Resource:()=>u});var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.redirect=!0,this.headers=Object.assign({"X-Requested-With":"XMLHttpRequest"},n||{})}var t,n,o;return t=e,(n=[{key:"get",value:function(e){return i(this,"GET",null,e)}},{key:"post",value:function(e,t){return i(this,"POST",e,t)}},{key:"put",value:function(e,t){return i(this,"PUT",e,t)}},{key:"delete",value:function(e){return i(this,"DELETE",null,e)}},{key:"request",value:function(e,t,n){return i(this,e,t,n)}}])&&r(t.prototype,n),o&&r(t,o),e}();function c(e,t,n,r){var o=e[t[r=r||0]];return e[t[r]]=++r<t.length?c(o||{},t,n,r):n,e}function s(e){return Array.isArray(e)?e.map((function(e){return s(e)})):Object.assign({},e)}function f(e){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}));return Object.defineProperty(e,"uuid",{value:t,configurable:!1,writable:!1}),t}function l(e,t,n){e.value=t.length?c(e.value||{},t,n):n}var p=!1;function d(e,t,n){n=n||!0;var r=function(r){var o=t[r];if(n&&o instanceof Function){var a=!e.eventListenerList;a&&(e.eventListenerList=[]),o.uuid||(a=f(o)),!a&&e.eventListenerList.find((function(e){return e.fn.uuid===o.uuid}))||function(e,t,n){var r=e.length-1,o=!1,a=!0;if(0===e.indexOf("_")){var i=n;(n=function(e){return!0!==i.call(t,e)&&e.preventDefault()}).uuid=i.uuid,a=!1,e=e.substring(1)}e.lastIndexOf("_")===r&&(o=!0,e=e.substring(0,r));var u=p?{passive:a,capture:o}:o;t.addEventListener(e,n,u),t.eventListenerList.push({name:e,fn:n,opt:u})}(r,e,o)}else for(var i,u=e.querySelectorAll(r),c=0;i=u[c];c++)d(i,o)};for(var o in t)r(o)}document.createElement("b").addEventListener("load",null,Object.defineProperty({},"passive",{get:function(){p=!0}}));var v={};function y(e,t){var n=e.uuid;return n||(n=f(e)),v[n]=t,n}function h(e){var t=e.uuid;return t||(t=y(e,{})),v[t]}function m(e,t,n){if(n.constructor===Object)for(var r in n)m(e[t],r,n[r]);else e[t]!==n&&(e[t]=n)}function b(e,t){for(var n,r=0;n=t[r];r++){if(!e[n])return!1;e=e[n]}return e}function g(e,t,n){var r=t.$element,o=t.name,a=r.eventListenerList,i=e.parent;if(n=t.exp?Function("p","return "+t.exp)(e.component):b(n,t.prop),m(t.$attribute,o,n),a&&0===o.indexOf("class")||"id"===o){for(;a.length;){var u=a.shift();r.removeEventListener(u.name,u.fn,u.opt)}d(i.$node,i.events)}}function x(e,t){var n=t.getAttribute("data-bind");if(n&&"SCRIPT"!==t.tagName){var r=e.parent.properties[n.split(".")[0]].nodes,o=r.find((function(e){return e.$node===t}));r.splice(r.indexOf(o),1)}}function w(e,t){if(3!==t.nodeType){for(var n,r=t.querySelectorAll("[data-bind]"),o=0;n=r[o];o++)x(e,n);x(e,t)}}function k(e,t,n,r,o){o=o||0,r?n?n.nodeType!==r.nodeType||3===n.nodeType&&n.nodeValue!==r.nodeValue||n.tagName!==r.tagName?(t.replaceChild(n,r),w(e,r)):3!==n.nodeType&&(!function(e,t,n,r){for(var o=r.length-1;o>=0;o--){var a=r[o],i=a.name,u=a.value,c=n.getNamedItem(i);c&&c.value===u?n.removeNamedItem(i):("data-bind"===i&&x(e,t),c||t.removeAttribute(i))}for(var s=0;s<n.length;s++){var f=n[s],l=f.name,p=f.value;"selected"===l&&(t.parentNode.value=t.value),t.setAttribute(l,p)}}(e,t.childNodes[o],n.attributes,r.attributes),O(e,r,n)):(t.removeChild(r),w(e,r)):t.appendChild(n)}function O(e,t,n){for(var r=Array.from(t.childNodes),o=Array.from(n.childNodes),a=0;a<o.length||a<r.length;a++)k(e,t,o[a],r[a],a)}var j={};function E(e){return e.replace(/\s+/g," ").replace(/<\s/g,"<").replace(/\s?\/?\s?>/g,">")}function T(e,t,n){return{property:e,$node:t,tpl:E(n.innerHTML),base:E(t.innerHTML.replace(n.outerHTML,""))}}function L(e){for(var t,n=[],r=[],o=/\$\{data(?:\.)?([\w\.]*)\}/g;null!==(t=o.exec(e.tpl));)n.push(t[1]);if(!n.length)return r;o=new RegExp(e.tpl.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/\\\$\\\{data(\\\.)?(\w|(\\\.))*\\\}/g,"(.*?)").replace(/\\\$\\\{[^\}]*\}/g,".*?").replace(/ /g,"\\s?").replace("&","[?&]amp;"),"g");for(var a=function(){var e={};n.forEach((function(n,r){l(e,n?n.split("."):n,t[r+1])})),r.push(e.value)};null!==(t=o.exec(e.base));)a();return r}function P(e){var t=e.nodeName;return"INPUT"===t||"TEXTAREA"===t||"SELECT"===t}function R(e,t,n){n=n||"value";var r=e.type;"checkbox"===r||"radio"===r?(n="checked","radio"===r&&(t=e.value===t)):"file"===r&&(n="files"),e[n]!==t&&(e[n]=t,e.dispatchEvent(new Event("mutate")))}function S(e){return"radio"===e.type?e.checked?e.value:null:"file"===e.type&&e.files?e.files:"checkbox"===e.type?e.checked:e.value||null}function M(e,t,n){var r=s(e.value);l(e,t,n),n=e.value,e.nodes.forEach((function(e){C(e,r,n)})),e.attributes.forEach((function(t){g(e,t,n)}))}function C(e,t,n){var r=e.$node,o=e.complexType,a=P(r)?"value":"innerHTML";e.prop.forEach((function(e){n=n[e],t=t[e]})),n!==t&&(o&&n?function(e,t){var n=e.$node,r=e.tpl,o=e.property,a=document.createElement("template");j[r]||(j[r]=Function("data,index","return `"+r+"`")),a.innerHTML=Array.isArray(t)?t.map(j[r]).join(""):j[r](t),O(o,n,a.content),n.dispatchEvent(new Event("mutate")),U(o.component,o.parent,n)}(o,n):R(r,n,a))}var A=function e(t,n){return{set:function(e,r,o){var a=s(n=n||e);return o instanceof Promise?o.then((function(o){if(Reflect.set(e,r,o))return _(t,n,a)})):Reflect.set(e,r,o)?_(t,n,a):void 0},get:function(r,o,a){var i=Reflect.get(r,o,a);if(i){var u=i.constructor;if(n=n||r,u===Function)return new Proxy(i.bind(r),function(e,t){return{apply:function(n,r,o){var a=s(t),i=Reflect.apply(n,r,o);return _(e,t,a),i}}}(t,n));if(u===Object||u===Array)return new Proxy(i,e(t,n))}return i}}};function N(e,t,n){return e.value=t,e.nodes.forEach((function(e){C(e,n,t)})),e.attributes.forEach((function(n){g(e,n,t)})),!0}function $(e,t,n){var r=e.parent.module.components;if(t.parentNode){var o=t.parentNode;if(o.dataset&&o.dataset.component){var a=o.dataset.component;r[a][n]&&function(e,t,n){var r=(e=h(e)).properties[n],o=Object.assign({},t.parent.events);for(var a in r.over.push(t),t.over.push(r),o)o[a]instanceof Function&&delete o[a];Object.assign(e.events,o)}(r[a],e,n)}$(e,t.parentNode,n)}}function _(e,t,n){return e.over.forEach((function(e){e.value=t})),t instanceof Promise?t.then((function(t){return N(e,t,n)})):N(e,t,n)}function q(e,t,n){e.nodes.find((function(e){return e.$node===t}))||e.nodes.push(function(e,t,n){var r=e.value,o=null;if(r instanceof Object&&(r=function(e,t){for(var n,r=0;n=t[r];r++){if(!e[n])return"";e=e[n]}return e}(r,n)),P(t)){var a=S(t);t.addEventListener("keyup",(function(t){var r=t.target;M(e,n,r.value),r.focus()})),t.addEventListener("change",(function(t){M(e,n,S(t.target))})),null===a?R(t,r):r=a}else if("SCRIPT"===t.tagName&&"text/template"===t.type)r=L(o=T(e,t.parentNode,t));else if(t.innerHTML){var i=t.querySelector('script[type="text/template"]');r=t.innerHTML,i&&(r=L(o=T(e,t,i)))}else R(t,r,"innerHTML");return l(e,n,r),{prop:n,$node:t,complexType:o}}(e,t,n))}function I(e,t,n,r,o){e.attributes.push(function(e,t,n,r,o){var a=t.split("."),i=e.value,u=n;t=a.pop(),a.forEach((function(e){u=u[e]}));var c={name:t,$attribute:u,$element:n,prop:r,exp:o};return o||b(i,r)?g(e,c,i):l(e,r,u[t]),c}(e,t,n,r,o))}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){var n=function(e,t){var n=h(e),r={component:e,parent:n,value:"",nodes:[],attributes:[],over:[]};return $(r,n.$node,t),r}(e,t);return Object.defineProperty(e,t,{get:function(){return(t=(e=n).value)instanceof Object?(e.observable!==t&&(e.proxy=new Proxy(t,A(e)),e.observable=t),e.proxy):t;var e,t},set:function(e){return _(n,e,s(n.value))}}),n}function U(e,t,n){var r=Array.from(n.querySelectorAll("[data-bind]")),o=Array.from(n.querySelectorAll("[data-attr]"));n.dataset.bind&&r.push(n),n.dataset.attr&&o.push(n),r.forEach((function(n){!function(e,t,n){var r=n.dataset.bind,o=t.properties,a=r.split(".");o[r=a.shift()]||(o[r]=F(e,r)),q(o[r],n,a)}(e,t,n)})),o.forEach((function(n){!function(e,t,n){n.dataset.attr.split(";").forEach((function(r){var o=r.indexOf(":"),a=[],i=r.substr(o+1).trim();i.replace(/'[^']*'/g,"").match(/\w[\w\._]+/g).forEach((function(n){var r=n.split("."),o=r.shift(),u=t.properties;u[o]||(u[o]=F(e,o)),i=i!==n?i.replace(n,"p."+n.replace(/\.([\w_]+)/g,"['$1']")):null,a.push({props:r,value:u[o]})})),a.forEach((function(e){I(e.value,r.substr(0,o).trim(),n,e.props,i)}))}))}(e,t,n)})),d(n,t.events)}function X(e,t,n){var r={$node:e,module:n,properties:{}},o=t.prototype instanceof B,a=o?new t:new B;return y(a,r),r.events=o?a.listen&&a.listen():t(a),U(a,r,e),e.dispatchEvent(new Event("mount")),a}var B=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"inject",value:function(e){return h(this).module.inject(e)}},{key:"compose",value:function(e,t){return X(e,t,h(this).module)}},{key:"getIndex",value:function(e){var t=h(this).$node,n=e.target;do{var r=n.dataset.key;if(r)return r;n=n.parentNode}while(n!==t)}}])&&H(t.prototype,n),r&&H(t,r),e}();function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W=function(){function e(){D(this,e);var t={classes:{},instances:{},components:{},inject:function(e){var n=t.classes,r=t.instances,o=e.uuid;return n[o]&&((e=new n[o](t.inject)).uuid=o,r[o]=e,delete n[o]),r[o]}};y(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];r.forEach((function(e){e.uuid||(t.classes[f(e)]=e)}))}var t,n,r;return t=e,(n=[{key:"compose",value:function(e,t){for(var n,r=document.querySelectorAll(e),o=0;n=r[o];o++){var a=X(n,t,h(this));h(this).components[a.uuid]=a,n.dataset.component=a.uuid}return this}},{key:"bind",value:function(e,t){return h(this).classes[e.uuid]=t,this}}])&&V(t.prototype,n),r&&V(t,r),e}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{n.r(r);var e=n(794);function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,r,o;return n=e,(r=[{key:"set",value:function(e){this.my.msg=e}}])&&t(n.prototype,r),o&&t(n,o),e}(),a=[["","Mazda","Tesla","Renault","Volkswagen","Pegeout"],["","London","New York","Madrid","Cali","Pekin","Moscou"],["","soccer","basketball","baseball","hockey","snowboarding"]];function i(e){var t=e.select;e.select2="",e.dependency=t&&a[t]?a[t]:[""]}var u=window.location,c=u.protocol,s=u.hostname,f=u.port,l=new e.Resource(c+"//"+s+":"+f+"/response.json");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,n,r,o=h(a);function a(){return d(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"listen",value:function(){var e=this;return{_submit:function(t){return e.add(t)},".close":{_click:function(t){return e.remove(t)}},".check":{_click:function(t){return e.crossOutItem(t)}},"#clean":{click:function(){return e.tasks=[]}}}}},{key:"remove",value:function(e){var t=this.getIndex(e);this.tasks.splice(t,1)}},{key:"add",value:function(){console.log(this),this.task&&(this.tasks.push({content:this.task,checked:""}),this.task="")}},{key:"crossOutItem",value:function(e){var t=this.getIndex(e),n=this.tasks[t];n.checked=n.checked?"":"checked"}}])&&v(t.prototype,n),r&&v(t,r),a}(e.Component);new e.Module(o).compose("#square",(function(e){var t=e.inject(o);return{mount:function(){return t.my=e.my},mousemove:function(t){console.log(e,t.clientX+","+t.clientY)},".open":{click:function(){e.action.replace("open","reset"),e.people=l.get()}},".paint":{click:function(){var t=this.innerText.toLowerCase();e.squareStyle={backgroundColor:t,borderRadius:"blue"!==t?".5em":"0"}}},".reset":{click:function(){e.action.replace("reset","open"),Object.assign(e,{people:[],squareStyle:{backgroundColor:"black",borderRadius:0}})}}}})).compose("#hello-world",(function(e){return{_submit:function(){e.inject(o).set(e.name),console.log(e)},_reset:function(){return Object.assign(e,{name:"init",password:"",sexo:"F",paint:!0,select:"",dependency:[""],select2:"",file:(t=document.createElement("input"),t.type="file",t.files)});var t},".fill":{click:function(){return Object.assign(e,{name:"Marlon RamÃ­rez",password:"MySecretPassword",sexo:"M",paint:!1,select:1,dependency:a[1],select2:"Cali"})}},"#select":{change:function(){return i(e)},mutate:function(){return i(e)}}}})).compose("#todo",g).compose(".alert",(function(){return{".show":{click:function(e){return alert(e.target.innerText)}}}}))})(),r})()}));
//# sourceMappingURL=app.min.js.map