(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("scalar", [], factory);
	else if(typeof exports === 'object')
		exports["scalar"] = factory();
	else
		root["scalar"] = factory();
})(self, function() {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ 794:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Component": () => (/* reexport */ Component),
  "Module": () => (/* reexport */ Module),
  "Resource": () => (/* reexport */ Resource)
});

;// CONCATENATED MODULE: ./src/Resource.js
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function sendRequest(request, callback) {
  function serialize(data) {
    var formData = new FormData();

    for (var key in data) {
      formData.append(key, data[key]);
    }

    return formData;
  }

  function formatQueryString(sign, data) {
    var variables = [];

    for (var key in data) {
      variables.push(encodeURIComponent(key) + '=' + encodeURIComponent(data[key]));
    }

    return variables.length ? sign + variables.join('&') : '';
  }

  function formatURL(url, data) {
    for (var key in data) {
      var variable = '/{' + key + '}';

      if (url.indexOf(variable) !== -1) {
        url = url.replace(variable, '/' + data[key]);
        delete data[key];
      }
    }

    return url.replace(/\/\{(\w+)\}/gi, '');
  }

  var headers = request.headers,
      data = request.data,
      queryString = request.queryString,
      url = request.url;
  var xhr = new XMLHttpRequest();
  data = headers['Content-Type'] === 'application/json' ? JSON.stringify(data) : serialize(data);
  url = formatURL(url, queryString) + formatQueryString(url.indexOf('?') === -1 ? '?' : '&', queryString);
  xhr.open(request.method, url, true);

  for (var header in headers) {
    xhr.setRequestHeader(header, headers[header]);
  }

  xhr.send(data);

  xhr.onreadystatechange = function () {
    if (xhr.readyState === 4) {
      var content = xhr.getResponseHeader('Content-Type');
      var responseURL = xhr.responseURL;
      var response = xhr.responseText;

      if (content) {
        if (content.indexOf('application/json') !== -1) {
          response = JSON.parse(response);
        } else if (/(application|text)\/xml/.test(content)) {
          response = xhr.responseXML;
        }
      }

      callback({
        response: response,
        url: responseURL,
        status: xhr.status,
        redirect: request.redirect && responseURL !== url
      });
    }
  };
}

function solve(xhr, resolve, reject) {
  var status = xhr.status,
      response = xhr.response;

  if (xhr.redirect) {
    return window.location = xhr.url;
  }

  status > 399 ? reject(response, status) : resolve(response, status);
}

function manage(resource, method, data, queryString) {
  resource.method = method;
  resource.data = data;
  resource.queryString = queryString;
  return new Promise(function (resolve, reject) {
    if (Worker) {
      var blob = new Blob(['self.onmessage=function(e){(' + sendRequest + ')(e.data,self.postMessage)}']);
      var worker = new Worker(window.URL.createObjectURL(blob));
      worker.postMessage(resource);

      worker.onmessage = function (e) {
        return solve(e.data, resolve, reject);
      };
    } else {
      sendRequest(resource, function (res) {
        return solve(res, resolve, reject);
      });
    }
  });
}

var Resource = /*#__PURE__*/function () {
  function Resource(url, headers) {
    _classCallCheck(this, Resource);

    this.url = url;
    this.redirect = true;
    this.headers = Object.assign({
      'X-Requested-With': 'XMLHttpRequest'
    }, headers || {});
  }

  _createClass(Resource, [{
    key: "get",
    value: function get(queryString) {
      return manage(this, 'GET', null, queryString);
    }
  }, {
    key: "post",
    value: function post(dataBody, queryString) {
      return manage(this, 'POST', dataBody, queryString);
    }
  }, {
    key: "put",
    value: function put(dataBody, queryString) {
      return manage(this, 'PUT', dataBody, queryString);
    }
  }, {
    key: "delete",
    value: function _delete(queryString) {
      return manage(this, 'DELETE', null, queryString);
    }
  }, {
    key: "request",
    value: function request(method, dataBody, queryString) {
      return manage(this, method, dataBody, queryString);
    }
  }]);

  return Resource;
}();


;// CONCATENATED MODULE: ./src/util/Element.js
function getObject(obj, props, value, index) {
  index = index || 0;
  var prop = obj[props[index]];
  obj[props[index]] = ++index < props.length ? getObject(prop || {}, props, value, index) : value;
  return obj;
}

function clone(object) {
  if (Array.isArray(object)) {
    return object.map(function (obj) {
      return clone(obj);
    });
  }

  return Object.assign({}, object);
}
function generateUUID(obj) {
  var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
    var r = Math.random() * 16 | 0;
    var v = c == 'x' ? r : r & 0x3 | 0x8;
    return v.toString(16);
  });
  Object.defineProperty(obj, 'uuid', {
    value: uuid,
    configurable: false,
    writable: false
  });
  return uuid;
}
function setPropertyValue(property, prop, value) {
  property.value = prop.length ? getObject(property.value || {}, prop, value) : value;
}
;// CONCATENATED MODULE: ./src/util/Event.js

var hasObjectConfig = false;
document.createElement('b').addEventListener('load', null, Object.defineProperty({}, 'passive', {
  get: function get() {
    hasObjectConfig = true;
  }
}));

function bindFunction(name, $element, fn) {
  var lastChar = name.length - 1;
  var capture = false;
  var passive = true;

  if (name.indexOf('_') === 0) {
    var method = fn;

    fn = function fn(e) {
      return method.call($element, e) !== true && e.preventDefault();
    };

    fn.uuid = method.uuid;
    passive = false;
    name = name.substring(1);
  }

  if (name.lastIndexOf('_') === lastChar) {
    capture = true;
    name = name.substring(0, lastChar);
  }

  var opt = hasObjectConfig ? {
    passive: passive,
    capture: capture
  } : capture;
  $element.addEventListener(name, fn, opt);
  $element.eventListenerList.push({
    name: name,
    fn: fn,
    opt: opt
  });
}

function addListeners($element, events, root) {
  root = root || true;

  var _loop = function _loop(selector) {
    var fn = events[selector];

    if (root && fn instanceof Function) {
      var binding = !$element.eventListenerList;

      if (binding) {
        $element.eventListenerList = [];
      }

      if (!fn.uuid) {
        binding = generateUUID(fn);
      }

      if (binding || !$element.eventListenerList.find(function (listener) {
        return listener.fn.uuid === fn.uuid;
      })) {
        bindFunction(selector, $element, fn);
      }
    } else {
      var $nodeList = $element.querySelectorAll(selector);

      for (var i = 0, $node; $node = $nodeList[i]; i++) {
        addListeners($node, fn);
      }
    }
  };

  for (var selector in events) {
    _loop(selector);
  }
}
;// CONCATENATED MODULE: ./src/util/Wrapper.js

var correlation = {};
function set(object, properties) {
  var uuid = object.uuid;

  if (!uuid) {
    uuid = generateUUID(object);
  }

  correlation[uuid] = properties;
  return uuid;
}
function get(object) {
  var uuid = object.uuid;

  if (!uuid) {
    uuid = set(object, {});
  }

  return correlation[uuid];
}
;// CONCATENATED MODULE: ./src/observable/Attribute.js



function setAttribute($attribute, name, property) {
  if (property.constructor === Object) {
    for (var k in property) {
      setAttribute($attribute[name], k, property[k]);
    }
  } else if ($attribute[name] !== property) {
    $attribute[name] = property;
  }
}

function getPropertyValue(value, properties) {
  for (var i = 0, prop; prop = properties[i]; i++) {
    if (!value[prop]) return false;
    value = value[prop];
  }

  return value;
}

function create(property, name, $element, prop, exp) {
  var keys = name.split('.');
  var value = property.value;
  var $attribute = $element;
  name = keys.pop();
  keys.forEach(function (k) {
    $attribute = $attribute[k];
  });
  var attribute = {
    name: name,
    $attribute: $attribute,
    $element: $element,
    prop: prop,
    exp: exp
  };
  exp || getPropertyValue(value, prop) ? execute(property, attribute, value) : setPropertyValue(property, prop, $attribute[name]);
  return attribute;
}
function execute(property, attribute, value) {
  var $element = attribute.$element,
      name = attribute.name;
  var eventListenerList = $element.eventListenerList;
  var parent = property.parent;
  value = attribute.exp ? Function('p', 'return ' + attribute.exp)(property.component) : getPropertyValue(value, attribute.prop);
  setAttribute(attribute.$attribute, name, value);

  if (eventListenerList && name.indexOf('class') === 0 || name === 'id') {
    while (eventListenerList.length) {
      var listener = eventListenerList.shift();
      $element.removeEventListener(listener.name, listener.fn, listener.opt);
    }

    addListeners(parent.$node, parent.events);
  }
}
;// CONCATENATED MODULE: ./src/view/DOM.js
function updateProps(property, $target, newProps, oldProps) {
  for (var i = oldProps.length - 1; i >= 0; i--) {
    var _oldProps$i = oldProps[i],
        name = _oldProps$i.name,
        value = _oldProps$i.value;
    var newProp = newProps.getNamedItem(name);

    if (!newProp || newProp.value !== value) {
      if (name === 'data-bind') removeNode(property, $target);
      if (!newProp) $target.removeAttribute(name);
    } else {
      newProps.removeNamedItem(name);
    }
  }

  for (var _i = 0; _i < newProps.length; _i++) {
    var _newProps$_i = newProps[_i],
        _name = _newProps$_i.name,
        _value = _newProps$_i.value;

    if (_name === 'selected') {
      $target.parentNode.value = $target.value;
    }

    $target.setAttribute(_name, _value);
  }
}

function removeNode(property, $node) {
  var name = $node.getAttribute('data-bind');
  if (!name || $node.tagName === 'SCRIPT') return;
  var nodes = property.parent.properties[name.split('.')[0]].nodes;
  var node = nodes.find(function (node) {
    return node.$node === $node;
  });
  nodes.splice(nodes.indexOf(node), 1);
}

function removeNodes(property, $node) {
  if ($node.nodeType === 3) return;
  var $childrens = $node.querySelectorAll('[data-bind]');

  for (var i = 0, $child; $child = $childrens[i]; i++) {
    removeNode(property, $child);
  }

  removeNode(property, $node);
}

function updateElement(property, $parent, $newNode, $oldNode, index) {
  index = index || 0;

  if (!$oldNode) {
    $parent.appendChild($newNode);
  } else if (!$newNode) {
    $parent.removeChild($oldNode);
    removeNodes(property, $oldNode);
  } else if ($newNode.nodeType !== $oldNode.nodeType || $newNode.nodeType === 3 && $newNode.nodeValue !== $oldNode.nodeValue || $newNode.tagName !== $oldNode.tagName) {
    $parent.replaceChild($newNode, $oldNode);
    removeNodes(property, $oldNode);
  } else if ($newNode.nodeType !== 3) {
    updateProps(property, $parent.childNodes[index], $newNode.attributes, $oldNode.attributes);
    updateNodes(property, $oldNode, $newNode);
  }
}

function updateNodes(property, $parent, $path) {
  var oldNodes = Array.from($parent.childNodes);
  var newNodes = Array.from($path.childNodes);

  for (var i = 0; i < newNodes.length || i < oldNodes.length; i++) {
    updateElement(property, $parent, newNodes[i], oldNodes[i], i);
  }
}
;// CONCATENATED MODULE: ./src/view/Template.js



var cache = {};

function clean(str) {
  return str.replace(/\s+/g, ' ').replace(/<\s/g, '<').replace(/\s?\/?\s?>/g, '>');
}

function Template_create(property, $node, $template) {
  return {
    property: property,
    $node: $node,
    tpl: clean($template.innerHTML),
    base: clean($node.innerHTML.replace($template.outerHTML, ''))
  };
}
function getValue(template) {
  var keys = [];
  var value = [];
  var regex = /\$\{data(?:\.)?([\w\.]*)\}/g;
  var matches;

  while ((matches = regex.exec(template.tpl)) !== null) {
    keys.push(matches[1]);
  }

  if (!keys.length) return value;
  regex = new RegExp(template.tpl.trim().replace(/[.*+?^${}()|[\]\\]/g, '\\$&').replace(/\\\$\\\{data(\\\.)?(\w|(\\\.))*\\\}/g, '(.*?)').replace(/\\\$\\\{[^\}]*\}/g, '.*?').replace(/ /g, '\\s?').replace('&', '[?&]amp;'), 'g');

  var _loop = function _loop() {
    var obj = {};
    keys.forEach(function (key, i) {
      setPropertyValue(obj, key ? key.split('.') : key, matches[i + 1]);
    });
    value.push(obj.value);
  };

  while ((matches = regex.exec(template.base)) !== null) {
    _loop();
  }

  return value;
}
function render(_ref, param) {
  var $node = _ref.$node,
      tpl = _ref.tpl,
      property = _ref.property;
  var fragment = document.createElement('template');

  if (!cache[tpl]) {
    cache[tpl] = Function('data,index', 'return `' + tpl + '`');
  }

  fragment.innerHTML = Array.isArray(param) ? param.map(cache[tpl]).join('') : cache[tpl](param);
  updateNodes(property, $node, fragment.content);
  $node.dispatchEvent(new Event('mutate'));
  watch(property.component, property.parent, $node);
}
;// CONCATENATED MODULE: ./src/observable/Node.js




function isInput($node) {
  var nodeName = $node.nodeName;
  return nodeName === 'INPUT' || nodeName === 'TEXTAREA' || nodeName === 'SELECT';
}

function setValue($node, value, attr) {
  attr = attr || 'value';
  var type = $node.type;

  if (type === 'checkbox' || type === 'radio') {
    attr = 'checked';

    if (type === 'radio') {
      value = $node.value === value;
    }
  } else if (type === 'file') {
    attr = 'files';
  }

  if ($node[attr] !== value) {
    $node[attr] = value;
    $node.dispatchEvent(new Event('mutate'));
  }
}

function evalValue(target) {
  if (target.type === 'radio') {
    return target.checked ? target.value : null;
  }

  if (target.type === 'file' && target.files) {
    return target.files;
  }

  if (target.type === 'checkbox') {
    return target.checked;
  }

  return target.value || null;
}

function changeContent(property, prop, value) {
  var state = clone(property.value);
  setPropertyValue(property, prop, value);
  value = property.value;
  property.nodes.forEach(function (node) {
    Node_execute(node, state, value);
  });
  property.attributes.forEach(function (attr) {
    execute(property, attr, value);
  });
}

function getObjectValue(obj, props) {
  for (var i = 0, prop; prop = props[i]; i++) {
    if (!obj[prop]) return '';
    obj = obj[prop];
  }

  return obj;
}

function Node_create(property, $node, prop) {
  var value = property.value;
  var complexType = null;

  if (value instanceof Object) {
    value = getObjectValue(value, prop);
  }

  if (isInput($node)) {
    var inputValue = evalValue($node);
    $node.addEventListener('keyup', function (e) {
      var target = e.target;
      changeContent(property, prop, target.value);
      target.focus();
    });
    $node.addEventListener('change', function (e) {
      changeContent(property, prop, evalValue(e.target));
    });

    if (inputValue === null) {
      setValue($node, value);
    } else {
      value = inputValue;
    }
  } else if ($node.tagName === 'SCRIPT' && $node.type === 'text/template') {
    complexType = Template_create(property, $node.parentNode, $node);
    value = getValue(complexType);
  } else if ($node.innerHTML) {
    var $template = $node.querySelector('script[type="text/template"]');
    value = $node.innerHTML;

    if ($template) {
      complexType = Template_create(property, $node, $template);
      value = getValue(complexType);
    }
  } else {
    setValue($node, value, 'innerHTML');
  }

  setPropertyValue(property, prop, value);
  return {
    prop: prop,
    $node: $node,
    complexType: complexType
  };
}
function Node_execute(node, state, value) {
  var $node = node.$node,
      complexType = node.complexType;
  var attr = isInput($node) ? 'value' : 'innerHTML';
  node.prop.forEach(function (prop) {
    value = value[prop];
    state = state[prop];
  });

  if (value !== state) {
    complexType && value ? render(complexType, value) : setValue($node, value, attr);
  }
}
;// CONCATENATED MODULE: ./src/observable/Property.js





var getFunctionHandler = function getFunctionHandler(property, root) {
  return {
    apply: function apply(target, thisArg, argumentsList) {
      var state = clone(root);
      var res = Reflect.apply(target, thisArg, argumentsList);

      _set(property, root, state);

      return res;
    }
  };
};

var getPropertyHandler = function getPropertyHandler(property, root) {
  return {
    set: function set(target, prop, value) {
      root = root || target;
      var state = clone(root);

      if (value instanceof Promise) {
        return value.then(function (data) {
          if (Reflect.set(target, prop, data)) return _set(property, root, state);
        });
      }

      if (Reflect.set(target, prop, value)) {
        return _set(property, root, state);
      }
    },
    get: function get(target, prop, receiver) {
      var value = Reflect.get(target, prop, receiver);

      if (value) {
        var _constructor = value.constructor;
        root = root || target;

        if (_constructor === Function) {
          return new Proxy(value.bind(target), getFunctionHandler(property, root));
        }

        if (_constructor === Object || _constructor === Array) {
          return new Proxy(value, getPropertyHandler(property, root));
        }
      }

      return value;
    }
  };
};

function Property_changeContent(property, value, state) {
  property.value = value;
  property.nodes.forEach(function (node) {
    Node_execute(node, state, value);
  });
  property.attributes.forEach(function (attr) {
    execute(property, attr, value);
  });
  return true;
}

function addOverloap(component, property, name) {
  component = get(component);
  var prop = component.properties[name];
  var events = Object.assign({}, property.parent.events);
  prop.over.push(property);
  property.over.push(prop);

  for (var _name in events) {
    if (events[_name] instanceof Function) {
      delete events[_name];
    }
  }

  Object.assign(component.events, events);
}

function findComponent(property, $node, name) {
  var components = property.parent.module.components;

  if ($node.parentNode) {
    var parentNode = $node.parentNode;

    if (parentNode.dataset && parentNode.dataset.component) {
      var uuid = parentNode.dataset.component;

      if (components[uuid][name]) {
        addOverloap(components[uuid], property, name);
      }
    }

    findComponent(property, $node.parentNode, name);
  }
}

function Property_create(component, name) {
  var parent = get(component);
  var property = {
    component: component,
    parent: parent,
    value: '',
    nodes: [],
    attributes: [],
    over: []
  };
  findComponent(property, parent.$node, name);
  return property;
}
function Property_get(property) {
  var value = property.value;

  if (value instanceof Object) {
    if (property.observable !== value) {
      property.proxy = new Proxy(value, getPropertyHandler(property));
      property.observable = value;
    }

    return property.proxy;
  }

  return value;
}

function _set(property, value, state) {
  property.over.forEach(function (prop) {
    prop.value = value;
  });
  return value instanceof Promise ? value.then(function (data) {
    return Property_changeContent(property, data, state);
  }) : Property_changeContent(property, value, state);
}


function addNode(property, $node, prop) {
  if (!property.nodes.find(function (node) {
    return node.$node === $node;
  })) {
    property.nodes.push(Node_create(property, $node, prop));
  }
}
function addAttribute(property, name, $element, prop, exp) {
  property.attributes.push(create(property, name, $element, prop, exp));
}
;// CONCATENATED MODULE: ./src/observable/Component.js
function Component_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function Component_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function Component_createClass(Constructor, protoProps, staticProps) { if (protoProps) Component_defineProperties(Constructor.prototype, protoProps); if (staticProps) Component_defineProperties(Constructor, staticProps); return Constructor; }






function getProperty(component, name) {
  var prop = Property_create(component, name);
  Object.defineProperty(component, name, {
    get: function get() {
      return Property_get(prop);
    },
    set: function set(value) {
      return _set(prop, value, clone(prop.value));
    }
  });
  return prop;
}

function bindData(component, parent, $domElement) {
  var name = $domElement.dataset.bind;
  var properties = parent.properties;
  var propertyObj = name.split('.');
  name = propertyObj.shift();

  if (!properties[name]) {
    properties[name] = getProperty(component, name);
  }

  addNode(properties[name], $domElement, propertyObj);
}

function bindAttributes(component, parent, $domElement) {
  $domElement.dataset.attr.split(';').forEach(function (attribute) {
    var index = attribute.indexOf(':');
    var properties = [];
    var exp = attribute.substr(index + 1).trim();
    exp.replace(/'[^']*'/g, '').match(/\w[\w\._]+/g).forEach(function (prop) {
      var props = prop.split('.');
      var name = props.shift();
      var privy = parent.properties;

      if (!privy[name]) {
        privy[name] = getProperty(component, name);
      }

      exp = exp !== prop ? exp.replace(prop, 'p.' + prop.replace(/\.([\w_]+)/g, "['$1']")) : null;
      properties.push({
        props: props,
        value: privy[name]
      });
    });
    properties.forEach(function (prop) {
      addAttribute(prop.value, attribute.substr(0, index).trim(), $domElement, prop.props, exp);
    });
  });
}

function watch(component, parent, $node) {
  var dataBinds = Array.from($node.querySelectorAll('[data-bind]'));
  var dataAttributes = Array.from($node.querySelectorAll('[data-attr]'));

  if ($node.dataset.bind) {
    dataBinds.push($node);
  }

  if ($node.dataset.attr) {
    dataAttributes.push($node);
  }

  dataBinds.forEach(function ($bind) {
    bindData(component, parent, $bind);
  });
  dataAttributes.forEach(function ($attr) {
    bindAttributes(component, parent, $attr);
  });
  addListeners($node, parent.events);
}

function _compose($node, behavioral, module) {
  var props = {
    $node: $node,
    module: module,
    properties: {}
  };
  var behavioralIsComponent = behavioral.prototype instanceof Component;
  var component = behavioralIsComponent ? new behavioral() : new Component();
  set(component, props);
  props.events = behavioralIsComponent ? component.listen && component.listen() : behavioral(component);
  watch(component, props, $node);
  $node.dispatchEvent(new Event('mount'));
  return component;
}



var Component = /*#__PURE__*/function () {
  function Component() {
    Component_classCallCheck(this, Component);
  }

  Component_createClass(Component, [{
    key: "inject",
    value: function inject(provider) {
      return get(this).module.inject(provider);
    }
  }, {
    key: "compose",
    value: function compose($domElement, behavioral) {
      return _compose($domElement, behavioral, get(this).module);
    }
  }, {
    key: "getIndex",
    value: function getIndex(e) {
      var _Privy$get = get(this),
          $node = _Privy$get.$node;

      var parent = e.target;

      do {
        var key = parent.dataset.key;
        if (key) return key;
        parent = parent.parentNode;
      } while (parent !== $node);
    }
  }]);

  return Component;
}();


;// CONCATENATED MODULE: ./src/Module.js
function Module_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function Module_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function Module_createClass(Constructor, protoProps, staticProps) { if (protoProps) Module_defineProperties(Constructor.prototype, protoProps); if (staticProps) Module_defineProperties(Constructor, staticProps); return Constructor; }





var Module = /*#__PURE__*/function () {
  function Module() {
    Module_classCallCheck(this, Module);

    var properties = {
      classes: {},
      instances: {},
      components: {},
      inject: function inject(provider) {
        var classes = properties.classes,
            instances = properties.instances;
        var _provider = provider,
            uuid = _provider.uuid;

        if (classes[uuid]) {
          provider = new classes[uuid](properties.inject);
          provider.uuid = uuid;
          instances[uuid] = provider;
          delete classes[uuid];
        }

        ;
        return instances[uuid];
      }
    };
    set(this, properties);

    for (var _len = arguments.length, providers = new Array(_len), _key = 0; _key < _len; _key++) {
      providers[_key] = arguments[_key];
    }

    providers.forEach(function (provider) {
      if (!provider.uuid) {
        properties.classes[generateUUID(provider)] = provider;
      }
    });
  }

  Module_createClass(Module, [{
    key: "compose",
    value: function compose(selector, behavioral) {
      var $nodes = document.querySelectorAll(selector);

      for (var i = 0, $node; $node = $nodes[i]; i++) {
        var component = _compose($node, behavioral, get(this));

        get(this).components[component.uuid] = component;
        $node.dataset.component = component.uuid;
      }

      return this;
    }
  }, {
    key: "bind",
    value: function bind(origin, replace) {
      get(this).classes[origin.uuid] = replace;
      return this;
    }
  }]);

  return Module;
}();


;// CONCATENATED MODULE: ./scalar.js





/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./scalar.js + 11 modules
var scalar = __webpack_require__(794);
;// CONCATENATED MODULE: ./app/services/Message.js
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Message = /*#__PURE__*/function () {
  function Message() {
    _classCallCheck(this, Message);
  }

  _createClass(Message, [{
    key: "set",
    value: function set(msg) {
      this.my.msg = msg;
    }
  }]);

  return Message;
}();


;// CONCATENATED MODULE: ./app/components/Form.js

var data = [['', 'Mazda', 'Tesla', 'Renault', 'Volkswagen', 'Pegeout'], ['', 'London', 'New York', 'Madrid', 'Cali', 'Pekin', 'Moscou'], ['', 'soccer', 'basketball', 'baseball', 'hockey', 'snowboarding']];

function getEmptyFileList() {
  var $file = document.createElement('input');
  $file.type = 'file';
  return $file.files;
}

function changeSelect2($) {
  var select = $.select;
  $.select2 = '';
  $.dependency = select && data[select] ? data[select] : [''];
}

/* harmony default export */ const Form = (function ($) {
  return {
    _submit: function _submit() {
      $.inject(Message).set($.name);
      console.log($);
    },
    _reset: function _reset() {
      return Object.assign($, {
        name: 'init',
        password: '',
        sexo: 'F',
        paint: true,
        select: '',
        dependency: [''],
        select2: '',
        file: getEmptyFileList()
      });
    },
    '.fill': {
      click: function click() {
        return Object.assign($, {
          name: 'Marlon RamÃ­rez',
          password: 'MySecretPassword',
          sexo: 'M',
          paint: false,
          select: 1,
          dependency: data[1],
          select2: 'Cali'
        });
      }
    },
    '#select': {
      change: function change() {
        return changeSelect2($);
      },
      mutate: function mutate() {
        return changeSelect2($);
      }
    }
  };
});
;// CONCATENATED MODULE: ./app/components/Test.js


var _window$location = window.location,
    protocol = _window$location.protocol,
    hostname = _window$location.hostname,
    port = _window$location.port;
var user = new scalar.Resource(protocol + '//' + hostname + ':' + port + '/response.json');
/* harmony default export */ const Test = (function ($) {
  var message = $.inject(Message);

  function track(e) {
    console.log($, e.clientX + ',' + e.clientY);
  }

  function sendRequest() {
    $.action.replace('open', 'reset');
    $.people = user.get();
  }

  function reset() {
    $.action.replace('reset', 'open');
    Object.assign($, {
      people: [],
      squareStyle: {
        backgroundColor: 'black',
        borderRadius: 0
      }
    });
  }

  function paint() {
    var color = this.innerText.toLowerCase();
    $.squareStyle = {
      backgroundColor: color,
      borderRadius: color !== 'blue' ? '.5em' : '0'
    };
  }

  return {
    mount: function mount() {
      return message.my = $.my;
    },
    mousemove: track,
    '.open': {
      click: sendRequest
    },
    '.paint': {
      click: paint
    },
    '.reset': {
      click: reset
    }
  };
});
;// CONCATENATED MODULE: ./app/components/ToDo.js
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function ToDo_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function ToDo_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function ToDo_createClass(Constructor, protoProps, staticProps) { if (protoProps) ToDo_defineProperties(Constructor.prototype, protoProps); if (staticProps) ToDo_defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }



var ToDo = /*#__PURE__*/function (_Component) {
  _inherits(ToDo, _Component);

  var _super = _createSuper(ToDo);

  function ToDo() {
    ToDo_classCallCheck(this, ToDo);

    return _super.apply(this, arguments);
  }

  ToDo_createClass(ToDo, [{
    key: "listen",
    value: function listen() {
      var _this = this;

      return {
        _submit: function _submit(e) {
          return _this.add(e);
        },
        '.close': {
          _click: function _click(e) {
            return _this.remove(e);
          }
        },
        '.check': {
          _click: function _click(e) {
            return _this.crossOutItem(e);
          }
        },
        '#clean': {
          click: function click() {
            return _this.tasks = [];
          }
        }
      };
    }
  }, {
    key: "remove",
    value: function remove(e) {
      var index = this.getIndex(e);
      this.tasks.splice(index, 1);
    }
  }, {
    key: "add",
    value: function add() {
      console.log(this);
      if (!this.task) return;
      this.tasks.push({
        content: this.task,
        checked: ''
      });
      this.task = '';
    }
  }, {
    key: "crossOutItem",
    value: function crossOutItem(e) {
      var index = this.getIndex(e);
      var task = this.tasks[index];
      task.checked = task.checked ? '' : 'checked';
    }
  }]);

  return ToDo;
}(scalar.Component);


;// CONCATENATED MODULE: ./app/app.js






new scalar.Module(Message).compose('#square', Test).compose('#hello-world', Form).compose('#todo', ToDo).compose('.alert', function () {
  return {
    '.show': {
      click: function click(e) {
        return alert(e.target.innerText);
      }
    }
  };
});
})();

/******/ 	return __webpack_exports__;
/******/ })()
;
});